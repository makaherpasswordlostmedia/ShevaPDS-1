<?xml version="1.0" encoding="utf-8"?>
<!--
  Layout: landscape orientation
  Left side: CRT screen
  Right side: control panel (registers, buttons, d-pad, action buttons)
-->
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="horizontal"
    android:background="#000000">

    <!-- ===== LEFT: CRT Screen ===== -->
    <FrameLayout
        android:layout_width="0dp"
        android:layout_height="match_parent"
        android:layout_weight="3"
        android:background="#000000">

        <com.imlac.pds1.CrtView
            android:id="@+id/crt_view"
            android:layout_width="match_parent"
            android:layout_height="match_parent"/>

        <!-- FPS overlay top-left -->
        <TextView
            android:id="@+id/tv_fps"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_gravity="top|start"
            android:layout_margin="6dp"
            android:text="30fps"
            android:textColor="#335533"
            android:textSize="9sp"
            android:fontFamily="monospace"/>

    </FrameLayout>

    <!-- ===== RIGHT: Control Panel ===== -->
    <LinearLayout
        android:layout_width="0dp"
        android:layout_height="match_parent"
        android:layout_weight="1.4"
        android:orientation="vertical"
        android:background="#0C0C0C"
        android:paddingStart="6dp"
        android:paddingEnd="6dp"
        android:paddingTop="4dp"
        android:paddingBottom="4dp">

        <!-- ── REGISTER STRIP ── -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
            android:background="#050505"
            android:paddingTop="3dp"
            android:paddingBottom="3dp">

            <TextView android:id="@+id/reg_pc"   style="@style/RegStyle" android:text="PC:0000"/>
            <TextView android:id="@+id/reg_ac"   style="@style/RegStyle" android:text="AC:0000"/>
            <TextView android:id="@+id/reg_ir"   style="@style/RegStyle" android:text="IR:0000"/>
            <TextView android:id="@+id/reg_link" style="@style/RegStyle" android:text="L:0"/>
            <TextView android:id="@+id/reg_dpx"  style="@style/RegStyle" android:text="DX:000"/>
            <TextView android:id="@+id/reg_dpy"  style="@style/RegStyle" android:text="DY:000"/>
            <View android:layout_width="0dp" android:layout_height="1dp" android:layout_weight="1"/>
            <TextView android:id="@+id/status_text" style="@style/RegStyle"
                android:text="HALT" android:textColor="#FF3300"/>
        </LinearLayout>

        <!-- ── FPS SLIDER ── -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
            android:gravity="center_vertical"
            android:layout_marginTop="3dp">
            <TextView android:layout_width="wrap_content" android:layout_height="wrap_content"
                android:text="FPS" android:textColor="#333333" android:textSize="8sp"
                android:fontFamily="monospace" android:layout_marginEnd="4dp"/>
            <SeekBar
                android:id="@+id/sb_fps"
                android:layout_width="0dp" android:layout_height="20dp"
                android:layout_weight="1"
                android:max="59" android:progress="29"
                android:progressTint="#004400"
                android:thumbTint="#00AA22"/>
        </LinearLayout>

        <!-- ── MACHINE BUTTONS ── -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
            android:layout_marginTop="4dp">
            <Button android:id="@+id/btn_power" style="@style/PanelBtn"
                android:text="PWR" android:backgroundTint="#002200"/>
            <Button android:id="@+id/btn_reset" style="@style/PanelBtn" android:text="RST"/>
            <Button android:id="@+id/btn_run"   style="@style/PanelBtn"
                android:text="RUN" android:backgroundTint="#002200"/>
            <Button android:id="@+id/btn_halt"  style="@style/PanelBtn"
                android:text="HLT" android:backgroundTint="#220000"/>
            <Button android:id="@+id/btn_step"  style="@style/PanelBtn" android:text="STP"/>
        </LinearLayout>

        <!-- ── DEMO BUTTONS ── -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
            android:layout_marginTop="2dp">
            <Button android:id="@+id/btn_demo_star"      style="@style/DemoBtn" android:text="STAR"/>
            <Button android:id="@+id/btn_demo_lines"     style="@style/DemoBtn" android:text="LINE"/>
            <Button android:id="@+id/btn_demo_lissajous" style="@style/DemoBtn" android:text="LISS"/>
            <Button android:id="@+id/btn_demo_bounce"    style="@style/DemoBtn" android:text="BNCE"/>
            <Button android:id="@+id/btn_demo_maze"      style="@style/DemoBtn" android:text="MAZE"/>
            <Button android:id="@+id/btn_demo_spacewar"  style="@style/DemoBtn" android:text="SWAR"/>
        </LinearLayout>

        <!-- ── GAMES BUTTON ── -->
        <Button
            android:id="@+id/btn_games"
            android:layout_width="match_parent"
            android:layout_height="28dp"
            android:text="GAMES / PROGRAMS"
            android:textColor="#4488FF"
            android:textSize="8sp"
            android:fontFamily="monospace"
            android:backgroundTint="#050510"
            android:layout_marginTop="4dp"/>

        <!-- ── DIVIDER ── -->
        <View android:layout_width="match_parent" android:layout_height="1dp"
            android:background="#1A1A1A" android:layout_marginTop="6dp"
            android:layout_marginBottom="4dp"/>

        <!-- ── VIRTUAL CONTROLLER ── -->
        <!-- Label -->
        <TextView android:layout_width="wrap_content" android:layout_height="wrap_content"
            android:text="CONTROLLER" android:textColor="#222222"
            android:textSize="7sp" android:fontFamily="monospace"
            android:layout_marginBottom="2dp"/>

        <!-- D-Pad + Action buttons side by side -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="0dp"
            android:layout_weight="1"
            android:orientation="horizontal"
            android:gravity="center_vertical">

            <!-- D-PAD -->
            <GridLayout
                android:layout_width="0dp"
                android:layout_height="match_parent"
                android:layout_weight="1"
                android:rowCount="3"
                android:columnCount="3"
                android:layout_marginEnd="8dp">

                <!-- Row 0 -->
                <View android:layout_width="0dp" android:layout_height="0dp"
                    android:layout_columnWeight="1" android:layout_rowWeight="1"/>
                <Button android:id="@+id/dp_up"
                    style="@style/DpadBtn" android:text="▲"
                    android:layout_columnWeight="1" android:layout_rowWeight="1"/>
                <View android:layout_width="0dp" android:layout_height="0dp"
                    android:layout_columnWeight="1" android:layout_rowWeight="1"/>

                <!-- Row 1 -->
                <Button android:id="@+id/dp_left"
                    style="@style/DpadBtn" android:text="◀"
                    android:layout_columnWeight="1" android:layout_rowWeight="1"/>
                <!-- Center: empty or label -->
                <TextView android:layout_width="0dp" android:layout_height="0dp"
                    android:layout_columnWeight="1" android:layout_rowWeight="1"
                    android:text="·" android:gravity="center"
                    android:textColor="#222222" android:textSize="14sp"/>
                <Button android:id="@+id/dp_right"
                    style="@style/DpadBtn" android:text="▶"
                    android:layout_columnWeight="1" android:layout_rowWeight="1"/>

                <!-- Row 2 -->
                <View android:layout_width="0dp" android:layout_height="0dp"
                    android:layout_columnWeight="1" android:layout_rowWeight="1"/>
                <Button android:id="@+id/dp_down"
                    style="@style/DpadBtn" android:text="▼"
                    android:layout_columnWeight="1" android:layout_rowWeight="1"/>
                <View android:layout_width="0dp" android:layout_height="0dp"
                    android:layout_columnWeight="1" android:layout_rowWeight="1"/>

            </GridLayout>

            <!-- ACTION BUTTONS (A B C D) -->
            <GridLayout
                android:layout_width="0dp"
                android:layout_height="match_parent"
                android:layout_weight="1"
                android:rowCount="2"
                android:columnCount="2">

                <Button android:id="@+id/btn_b"
                    style="@style/ActionBtn"
                    android:text="B" android:backgroundTint="#001A33"
                    android:layout_columnWeight="1" android:layout_rowWeight="1"/>
                <Button android:id="@+id/btn_a"
                    style="@style/ActionBtn"
                    android:text="A" android:backgroundTint="#001A00"
                    android:textColor="#00FF41"
                    android:layout_columnWeight="1" android:layout_rowWeight="1"/>
                <Button android:id="@+id/btn_d"
                    style="@style/ActionBtn"
                    android:text="D" android:backgroundTint="#1A1A00"
                    android:textColor="#FFAA00"
                    android:layout_columnWeight="1" android:layout_rowWeight="1"/>
                <Button android:id="@+id/btn_c"
                    style="@style/ActionBtn"
                    android:text="C" android:backgroundTint="#1A0000"
                    android:textColor="#FF4400"
                    android:layout_columnWeight="1" android:layout_rowWeight="1"/>

            </GridLayout>

        </LinearLayout>

        <!-- ── KEY MAP HINT ── -->
        <TextView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="A=SPACE  B=F  C=E  D=Q\nW/S/A/D = move"
            android:textColor="#1A1A1A"
            android:textSize="7sp"
            android:fontFamily="monospace"
            android:layout_marginTop="3dp"/>

    </LinearLayout>

</LinearLayout>
